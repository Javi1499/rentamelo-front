{"ast":null,"code":"var _jsxFileName = \"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, Fragment } from 'react';\nimport axios from 'axios';\nimport { Button, Container, Form, Col, Row } from 'react-bootstrap';\nimport { setToken, initAxiosIntterceptos } from '../helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ninitAxiosIntterceptos();\nconst url = \"http://localhost:3000\";\nconst urlServidor = \"http://localhost:4006\";\n\nconst Login = () => {\n  _s();\n\n  // const [estaRegistrado, setEstaRegistrado] = useState(true);\n  const [error, setError] = useState({\n    error: false,\n    mensaje: \"\"\n  });\n  const [datosLogin, setDatosLogin] = useState({\n    email: \"\",\n    password: \"\"\n  }); //Se actualiz el state con los datos ingresados \n\n  const actualizarState = e => {\n    setDatosLogin({ ...datosLogin,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const {\n    email,\n    password\n  } = datosLogin; //Function para iniciar sesion\n\n  const functionIniciarSesion = async (e, props) => {\n    e.preventDefault();\n\n    if (email.trim() === '' || password.trim() === \"\") {\n      setError({\n        error: true,\n        mensaje: \"Todos los campos son obligatorios\"\n      });\n      return;\n    } else {\n      const respuesta = await axios.post(`${urlServidor}/autenticacion/login`, datosLogin);\n\n      if (respuesta.data.status === 200) {\n        setToken(respuesta.data.token);\n        window.location.href = `${url}/`; // if (respuesta.data.data.rol === \"admin\") {\n        //     localStorage.setItem('admin', true);\n        //     setError({ error: false })\n        // }\n      } else {\n        setError({\n          error: true,\n          mensaje: respuesta.data.mensaje\n        });\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          className: \" col-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"INICIA SESI\\xD3N\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 25\n          }, this), error.error ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"alerta-error\",\n            children: error.mensaje\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 40\n          }, this) : null, /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: functionIniciarSesion,\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Correo electronico\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"email\",\n              placeholder: \"canela@correo.com\",\n              name: \"email\",\n              onChange: actualizarState,\n              value: email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Contrase\\xF1a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"password\",\n              placeholder: \"********\",\n              name: \"password\",\n              onChange: actualizarState,\n              value: password\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"mt-2\",\n              type: \"submit\",\n              children: \"Iniciar SESI\\xD3N\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              children: [\"No tienes cuenta? \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `${url}/signup`,\n                children: \"Registrate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 52\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"MHLjTA77yVCyY0bRSq+4bVenkSI=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/components/Login.js"],"names":["React","useState","Fragment","axios","Button","Container","Form","Col","Row","setToken","initAxiosIntterceptos","url","urlServidor","Login","error","setError","mensaje","datosLogin","setDatosLogin","email","password","actualizarState","e","target","name","value","functionIniciarSesion","props","preventDefault","trim","respuesta","post","data","status","token","window","location","href"],"mappings":"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","sourcesContent":["import React, { useState, Fragment } from 'react'\nimport axios from 'axios';\nimport { Button, Container, Form, Col, Row } from 'react-bootstrap';\nimport { setToken, initAxiosIntterceptos } from '../helpers';\ninitAxiosIntterceptos();\nconst url=\"http://localhost:3000\"\nconst urlServidor = \"http://localhost:4006\"\nconst Login = () => {\n   // const [estaRegistrado, setEstaRegistrado] = useState(true);\n    const [error, setError] = useState({ error: false, mensaje: \"\" });\n    const [datosLogin, setDatosLogin] = useState({\n        email: \"\",\n        password: \"\"\n    });\n\n    \n\n    //Se actualiz el state con los datos ingresados \n    const actualizarState = e => {\n        setDatosLogin({\n            ...datosLogin,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const { email, password } = datosLogin;\n\n    //Function para iniciar sesion\n    const functionIniciarSesion = async (e, props) => {\n        e.preventDefault();\n        if (email.trim() === '' || password.trim() === \"\") {\n            setError({ error: true, mensaje: \"Todos los campos son obligatorios\" });\n            return\n        } else {\n            const respuesta = await axios.post(`${urlServidor}/autenticacion/login`, datosLogin);\n            if (respuesta.data.status === 200) {\n                setToken(respuesta.data.token);\n                window.location.href=`${url}/`\n                // if (respuesta.data.data.rol === \"admin\") {\n                //     localStorage.setItem('admin', true);\n                //     setError({ error: false })\n                // }\n            } else {\n                setError({ error: true, mensaje: respuesta.data.mensaje })\n            }\n\n        }\n    }\n    return (\n        <Fragment >\n            <Container>\n                <Row className=\"justify-content-center\">\n                <Col className=\" col-6\">\n                        <h2>INICIA SESIÓN</h2>\n                        {error.error ? <p className=\"alerta-error\">{error.mensaje}</p> : null}\n\n                        <Form\n                            onSubmit={functionIniciarSesion}\n                        >\n                            <Form.Label>Correo electronico</Form.Label>\n                            <Form.Control\n                                type=\"email\"\n                                placeholder=\"canela@correo.com\"\n                                name=\"email\"\n                                onChange={actualizarState}\n                                value={email}\n                            />\n                            <Form.Label>Contraseña</Form.Label>\n                            <Form.Control\n                                type=\"password\"\n                                placeholder=\"********\"\n                                name=\"password\"\n                                onChange={actualizarState}\n                                value={password}\n                            />\n                            <Button className=\"mt-2\"\n                                type=\"submit\">\n                                Iniciar SESIÓN\n                            </Button>\n                            <Col>No tienes cuenta? <a href={`${url}/signup`}>Registrate</a></Col>\n                        </Form> \n                </Col>\n                </Row>\n            </Container>\n        </Fragment>\n    );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}