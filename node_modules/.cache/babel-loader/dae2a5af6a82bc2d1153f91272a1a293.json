{"ast":null,"code":"import _classCallCheck from \"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _get from \"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/get\";\nimport _getPrototypeOf from \"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nimport React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar canvasStyle = {\n  position: 'absolute',\n  bottom: 0,\n  left: 0,\n  height: 0,\n  overflow: 'hidden',\n  'padding-top': 0,\n  'padding-bottom': 0,\n  border: 'none'\n};\nvar mirrorProps = ['box-sizing', 'width', 'font-size', 'font-weight', 'font-family', 'font-style', 'letter-spacing', 'text-indent', 'white-space', 'word-break', 'overflow-wrap', 'padding-left', 'padding-right'];\n\nfunction omit(obj, omittedKeys) {\n  if (!obj || typeof obj !== 'object') {\n    return obj;\n  }\n\n  var ret = {};\n  Object.keys(obj).forEach(function (key) {\n    if (omittedKeys.indexOf(key) > -1) {\n      return;\n    }\n\n    ret[key] = obj[key];\n  });\n  return ret;\n}\n\nfunction prevSibling(node, count) {\n  while (node && count--) {\n    node = node.previousElementSibling;\n  }\n\n  return node;\n}\n\nvar defaultProps = {\n  basedOn: undefined,\n  className: '',\n  component: 'div',\n  ellipsis: '…',\n  // &hellip;\n  maxLine: 1,\n  onReflow: function onReflow() {},\n  text: '',\n  trimRight: true,\n  winWidth: undefined // for the HOC\n\n};\nvar usedProps = Object.keys(defaultProps);\n/**\n * props.text {String} the text you want to clamp\n * props.maxLine {Number|String} max lines allowed\n * props.ellipsis {String} the ellipsis indicator\n * props.trimRight {Boolean} should we trimRight the clamped text?\n * props.basedOn {String} letters|words\n * props.className {String}\n */\n\nvar LinesEllipsis = /*#__PURE__*/function (_React$Component) {\n  _inherits(LinesEllipsis, _React$Component);\n\n  var _super = _createSuper(LinesEllipsis);\n\n  function LinesEllipsis(props) {\n    var _this;\n\n    _classCallCheck(this, LinesEllipsis);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      text: props.text,\n      clamped: false\n    };\n    _this.units = [];\n    _this.maxLine = 0;\n    _this.canvas = null;\n    return _this;\n  }\n\n  _createClass(LinesEllipsis, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initCanvas();\n      this.reflow(this.props);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.winWidth !== this.props.winWidth) {\n        this.copyStyleToCanvas();\n      }\n\n      if (this.props !== prevProps) {\n        this.reflow(this.props);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.canvas.parentNode.removeChild(this.canvas);\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(state, callback) {\n      if (typeof state.clamped !== 'undefined') {\n        this.clamped = state.clamped;\n      }\n\n      return _get(_getPrototypeOf(LinesEllipsis.prototype), \"setState\", this).call(this, state, callback);\n    }\n  }, {\n    key: \"initCanvas\",\n    value: function initCanvas() {\n      if (this.canvas) return;\n      var canvas = this.canvas = document.createElement('div');\n      canvas.className = \"LinesEllipsis-canvas \".concat(this.props.className);\n      canvas.setAttribute('aria-hidden', 'true');\n      this.copyStyleToCanvas();\n      Object.keys(canvasStyle).forEach(function (key) {\n        canvas.style[key] = canvasStyle[key];\n      });\n      document.body.appendChild(canvas);\n    }\n  }, {\n    key: \"copyStyleToCanvas\",\n    value: function copyStyleToCanvas() {\n      var _this2 = this;\n\n      var targetStyle = window.getComputedStyle(this.target);\n      mirrorProps.forEach(function (key) {\n        _this2.canvas.style[key] = targetStyle[key];\n      });\n    }\n  }, {\n    key: \"reflow\",\n    value: function reflow(props) {\n      /* eslint-disable no-control-regex */\n      var basedOn = props.basedOn || (/^[\\x00-\\x7F]+$/.test(props.text) ? 'words' : 'letters');\n\n      switch (basedOn) {\n        case 'words':\n          this.units = props.text.split(/\\b|(?=\\W)/);\n          break;\n\n        case 'letters':\n          this.units = Array.from(props.text);\n          break;\n\n        default:\n          throw new Error(\"Unsupported options basedOn: \".concat(basedOn));\n      }\n\n      this.maxLine = +props.maxLine || 1;\n      this.canvas.innerHTML = this.units.map(function (c) {\n        return \"<span class='LinesEllipsis-unit'>\".concat(c, \"</span>\");\n      }).join('');\n      var ellipsisIndex = this.putEllipsis(this.calcIndexes());\n      var clamped = ellipsisIndex > -1;\n      var newState = {\n        clamped: clamped,\n        text: clamped ? this.units.slice(0, ellipsisIndex).join('') : props.text\n      };\n      this.setState(newState, props.onReflow.bind(this, newState));\n    }\n  }, {\n    key: \"calcIndexes\",\n    value: function calcIndexes() {\n      var indexes = [0];\n      var elt = this.canvas.firstElementChild;\n      if (!elt) return indexes;\n      var index = 0;\n      var line = 1;\n      var offsetTop = elt.offsetTop;\n\n      while (elt = elt.nextElementSibling) {\n        if (elt.offsetTop > offsetTop) {\n          line++;\n          indexes.push(index);\n          offsetTop = elt.offsetTop;\n        }\n\n        index++;\n\n        if (line > this.maxLine) {\n          break;\n        }\n      }\n\n      return indexes;\n    }\n  }, {\n    key: \"putEllipsis\",\n    value: function putEllipsis(indexes) {\n      if (indexes.length <= this.maxLine) return -1;\n      var lastIndex = indexes[this.maxLine];\n      var units = this.units.slice(0, lastIndex);\n      var maxOffsetTop = this.canvas.children[lastIndex].offsetTop;\n      this.canvas.innerHTML = units.map(function (c, i) {\n        return \"<span class='LinesEllipsis-unit'>\".concat(c, \"</span>\");\n      }).join('') + \"<wbr><span class='LinesEllipsis-ellipsis'>\".concat(this.props.ellipsis, \"</span>\");\n      var ndEllipsis = this.canvas.lastElementChild;\n      var ndPrevUnit = prevSibling(ndEllipsis, 2);\n\n      while (ndPrevUnit && (ndEllipsis.offsetTop > maxOffsetTop || // IE & Edge: doesn't support <wbr>\n      ndEllipsis.offsetHeight > ndPrevUnit.offsetHeight || ndEllipsis.offsetTop > ndPrevUnit.offsetTop)) {\n        this.canvas.removeChild(ndPrevUnit);\n        ndPrevUnit = prevSibling(ndEllipsis, 2);\n        units.pop();\n      }\n\n      return units.length;\n    } // expose\n\n  }, {\n    key: \"isClamped\",\n    value: function isClamped() {\n      return this.clamped; // do not use state.clamped. #27\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          text = _this$state.text,\n          clamped = _this$state.clamped;\n\n      var _this$props = this.props,\n          Component = _this$props.component,\n          ellipsis = _this$props.ellipsis,\n          trimRight = _this$props.trimRight,\n          className = _this$props.className,\n          rest = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"ellipsis\", \"trimRight\", \"className\"]);\n\n      return /*#__PURE__*/React.createElement(Component, _extends({\n        className: \"LinesEllipsis \".concat(clamped ? 'LinesEllipsis--clamped' : '', \" \").concat(className),\n        ref: function ref(node) {\n          return _this3.target = node;\n        }\n      }, omit(rest, usedProps)), clamped && trimRight ? text.replace(/[\\s\\uFEFF\\xA0]+$/, '') : text, /*#__PURE__*/React.createElement(\"wbr\", null), clamped && /*#__PURE__*/React.createElement(\"span\", {\n        className: \"LinesEllipsis-ellipsis\"\n      }, ellipsis));\n    }\n  }]);\n\n  return LinesEllipsis;\n}(React.Component);\n\nLinesEllipsis.defaultProps = defaultProps;\nexport default LinesEllipsis;","map":{"version":3,"sources":["/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/react-lines-ellipsis/lib/index.modern.js"],"names":["React","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","canvasStyle","position","bottom","left","height","overflow","border","mirrorProps","omit","obj","omittedKeys","ret","forEach","prevSibling","node","count","previousElementSibling","defaultProps","basedOn","undefined","className","component","ellipsis","maxLine","onReflow","text","trimRight","winWidth","usedProps","LinesEllipsis","props","state","clamped","units","canvas","initCanvas","reflow","prevProps","copyStyleToCanvas","parentNode","removeChild","callback","document","createElement","setAttribute","style","body","appendChild","targetStyle","window","getComputedStyle","test","split","Array","from","Error","innerHTML","map","c","join","ellipsisIndex","putEllipsis","calcIndexes","newState","slice","setState","bind","indexes","elt","firstElementChild","index","line","offsetTop","nextElementSibling","push","lastIndex","maxOffsetTop","children","ndEllipsis","lastElementChild","ndPrevUnit","offsetHeight","pop","_this$props","Component","rest","ref","replace"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAEA,SAASC,QAAT,GAAoB;AAClBA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAC5C,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AACzC,UAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAEA,WAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AACtB,YAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AACrDL,UAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AACD;AACF;AACF;;AAED,WAAOL,MAAP;AACD,GAZD;;AAcA,SAAOH,QAAQ,CAACY,KAAT,CAAe,IAAf,EAAqBP,SAArB,CAAP;AACD;;AAED,SAASQ,6BAAT,CAAuCN,MAAvC,EAA+CO,QAA/C,EAAyD;AACvD,MAAIP,MAAM,IAAI,IAAd,EAAoB,OAAO,EAAP;AACpB,MAAIJ,MAAM,GAAG,EAAb;AACA,MAAIY,UAAU,GAAGd,MAAM,CAACe,IAAP,CAAYT,MAAZ,CAAjB;AACA,MAAIC,GAAJ,EAASJ,CAAT;;AAEA,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGW,UAAU,CAACT,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;AACtCI,IAAAA,GAAG,GAAGO,UAAU,CAACX,CAAD,CAAhB;AACA,QAAIU,QAAQ,CAACG,OAAT,CAAiBT,GAAjB,KAAyB,CAA7B,EAAgC;AAChCL,IAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AACD;;AAED,SAAOL,MAAP;AACD;;AAED,IAAMe,WAAW,GAAG;AAClBC,EAAAA,QAAQ,EAAE,UADQ;AAElBC,EAAAA,MAAM,EAAE,CAFU;AAGlBC,EAAAA,IAAI,EAAE,CAHY;AAIlBC,EAAAA,MAAM,EAAE,CAJU;AAKlBC,EAAAA,QAAQ,EAAE,QALQ;AAMlB,iBAAe,CANG;AAOlB,oBAAkB,CAPA;AAQlBC,EAAAA,MAAM,EAAE;AARU,CAApB;AAUA,IAAMC,WAAW,GAAG,CAAC,YAAD,EAAe,OAAf,EAAwB,WAAxB,EAAqC,aAArC,EAAoD,aAApD,EAAmE,YAAnE,EAAiF,gBAAjF,EAAmG,aAAnG,EAAkH,aAAlH,EAAiI,YAAjI,EAA+I,eAA/I,EAAgK,cAAhK,EAAgL,eAAhL,CAApB;;AAEA,SAASC,IAAT,CAAcC,GAAd,EAAmBC,WAAnB,EAAgC;AAC9B,MAAI,CAACD,GAAD,IAAQ,OAAOA,GAAP,KAAe,QAA3B,EAAqC;AACnC,WAAOA,GAAP;AACD;;AAED,MAAME,GAAG,GAAG,EAAZ;AACA5B,EAAAA,MAAM,CAACe,IAAP,CAAYW,GAAZ,EAAiBG,OAAjB,CAAyB,UAAAtB,GAAG,EAAI;AAC9B,QAAIoB,WAAW,CAACX,OAAZ,CAAoBT,GAApB,IAA2B,CAAC,CAAhC,EAAmC;AACjC;AACD;;AAEDqB,IAAAA,GAAG,CAACrB,GAAD,CAAH,GAAWmB,GAAG,CAACnB,GAAD,CAAd;AACD,GAND;AAOA,SAAOqB,GAAP;AACD;;AAED,SAASE,WAAT,CAAqBC,IAArB,EAA2BC,KAA3B,EAAkC;AAChC,SAAOD,IAAI,IAAIC,KAAK,EAApB,EAAwB;AACtBD,IAAAA,IAAI,GAAGA,IAAI,CAACE,sBAAZ;AACD;;AAED,SAAOF,IAAP;AACD;;AAED,IAAMG,YAAY,GAAG;AACnBC,EAAAA,OAAO,EAAEC,SADU;AAEnBC,EAAAA,SAAS,EAAE,EAFQ;AAGnBC,EAAAA,SAAS,EAAE,KAHQ;AAInBC,EAAAA,QAAQ,EAAE,GAJS;AAKnB;AACAC,EAAAA,OAAO,EAAE,CANU;AAQnBC,EAAAA,QARmB,sBAQR,CAAE,CARM;AAUnBC,EAAAA,IAAI,EAAE,EAVa;AAWnBC,EAAAA,SAAS,EAAE,IAXQ;AAYnBC,EAAAA,QAAQ,EAAER,SAZS,CAYC;;AAZD,CAArB;AAeA,IAAMS,SAAS,GAAG7C,MAAM,CAACe,IAAP,CAAYmB,YAAZ,CAAlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;IAEMY,a;;;;;AACJ,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXN,MAAAA,IAAI,EAAEK,KAAK,CAACL,IADD;AAEXO,MAAAA,OAAO,EAAE;AAFE,KAAb;AAIA,UAAKC,KAAL,GAAa,EAAb;AACA,UAAKV,OAAL,GAAe,CAAf;AACA,UAAKW,MAAL,GAAc,IAAd;AARiB;AASlB;;;;WAED,6BAAoB;AAClB,WAAKC,UAAL;AACA,WAAKC,MAAL,CAAY,KAAKN,KAAjB;AACD;;;WAED,4BAAmBO,SAAnB,EAA8B;AAC5B,UAAIA,SAAS,CAACV,QAAV,KAAuB,KAAKG,KAAL,CAAWH,QAAtC,EAAgD;AAC9C,aAAKW,iBAAL;AACD;;AAED,UAAI,KAAKR,KAAL,KAAeO,SAAnB,EAA8B;AAC5B,aAAKD,MAAL,CAAY,KAAKN,KAAjB;AACD;AACF;;;WAED,gCAAuB;AACrB,WAAKI,MAAL,CAAYK,UAAZ,CAAuBC,WAAvB,CAAmC,KAAKN,MAAxC;AACD;;;WAED,kBAASH,KAAT,EAAgBU,QAAhB,EAA0B;AACxB,UAAI,OAAOV,KAAK,CAACC,OAAb,KAAyB,WAA7B,EAA0C;AACxC,aAAKA,OAAL,GAAeD,KAAK,CAACC,OAArB;AACD;;AAED,yFAAsBD,KAAtB,EAA6BU,QAA7B;AACD;;;WAED,sBAAa;AACX,UAAI,KAAKP,MAAT,EAAiB;AACjB,UAAMA,MAAM,GAAG,KAAKA,MAAL,GAAcQ,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAA7B;AACAT,MAAAA,MAAM,CAACd,SAAP,kCAA2C,KAAKU,KAAL,CAAWV,SAAtD;AACAc,MAAAA,MAAM,CAACU,YAAP,CAAoB,aAApB,EAAmC,MAAnC;AACA,WAAKN,iBAAL;AACAvD,MAAAA,MAAM,CAACe,IAAP,CAAYE,WAAZ,EAAyBY,OAAzB,CAAiC,UAAAtB,GAAG,EAAI;AACtC4C,QAAAA,MAAM,CAACW,KAAP,CAAavD,GAAb,IAAoBU,WAAW,CAACV,GAAD,CAA/B;AACD,OAFD;AAGAoD,MAAAA,QAAQ,CAACI,IAAT,CAAcC,WAAd,CAA0Bb,MAA1B;AACD;;;WAED,6BAAoB;AAAA;;AAClB,UAAMc,WAAW,GAAGC,MAAM,CAACC,gBAAP,CAAwB,KAAKjE,MAA7B,CAApB;AACAsB,MAAAA,WAAW,CAACK,OAAZ,CAAoB,UAAAtB,GAAG,EAAI;AACzB,QAAA,MAAI,CAAC4C,MAAL,CAAYW,KAAZ,CAAkBvD,GAAlB,IAAyB0D,WAAW,CAAC1D,GAAD,CAApC;AACD,OAFD;AAGD;;;WAED,gBAAOwC,KAAP,EAAc;AACZ;AACA,UAAMZ,OAAO,GAAGY,KAAK,CAACZ,OAAN,KAAkB,iBAAiBiC,IAAjB,CAAsBrB,KAAK,CAACL,IAA5B,IAAoC,OAApC,GAA8C,SAAhE,CAAhB;;AAEA,cAAQP,OAAR;AACE,aAAK,OAAL;AACE,eAAKe,KAAL,GAAaH,KAAK,CAACL,IAAN,CAAW2B,KAAX,CAAiB,WAAjB,CAAb;AACA;;AAEF,aAAK,SAAL;AACE,eAAKnB,KAAL,GAAaoB,KAAK,CAACC,IAAN,CAAWxB,KAAK,CAACL,IAAjB,CAAb;AACA;;AAEF;AACE,gBAAM,IAAI8B,KAAJ,wCAA0CrC,OAA1C,EAAN;AAVJ;;AAaA,WAAKK,OAAL,GAAe,CAACO,KAAK,CAACP,OAAP,IAAkB,CAAjC;AACA,WAAKW,MAAL,CAAYsB,SAAZ,GAAwB,KAAKvB,KAAL,CAAWwB,GAAX,CAAe,UAAAC,CAAC,EAAI;AAC1C,0DAA2CA,CAA3C;AACD,OAFuB,EAErBC,IAFqB,CAEhB,EAFgB,CAAxB;AAGA,UAAMC,aAAa,GAAG,KAAKC,WAAL,CAAiB,KAAKC,WAAL,EAAjB,CAAtB;AACA,UAAM9B,OAAO,GAAG4B,aAAa,GAAG,CAAC,CAAjC;AACA,UAAMG,QAAQ,GAAG;AACf/B,QAAAA,OAAO,EAAPA,OADe;AAEfP,QAAAA,IAAI,EAAEO,OAAO,GAAG,KAAKC,KAAL,CAAW+B,KAAX,CAAiB,CAAjB,EAAoBJ,aAApB,EAAmCD,IAAnC,CAAwC,EAAxC,CAAH,GAAiD7B,KAAK,CAACL;AAFrD,OAAjB;AAIA,WAAKwC,QAAL,CAAcF,QAAd,EAAwBjC,KAAK,CAACN,QAAN,CAAe0C,IAAf,CAAoB,IAApB,EAA0BH,QAA1B,CAAxB;AACD;;;WAED,uBAAc;AACZ,UAAMI,OAAO,GAAG,CAAC,CAAD,CAAhB;AACA,UAAIC,GAAG,GAAG,KAAKlC,MAAL,CAAYmC,iBAAtB;AACA,UAAI,CAACD,GAAL,EAAU,OAAOD,OAAP;AACV,UAAIG,KAAK,GAAG,CAAZ;AACA,UAAIC,IAAI,GAAG,CAAX;AACA,UAAIC,SAAS,GAAGJ,GAAG,CAACI,SAApB;;AAEA,aAAOJ,GAAG,GAAGA,GAAG,CAACK,kBAAjB,EAAqC;AACnC,YAAIL,GAAG,CAACI,SAAJ,GAAgBA,SAApB,EAA+B;AAC7BD,UAAAA,IAAI;AACJJ,UAAAA,OAAO,CAACO,IAAR,CAAaJ,KAAb;AACAE,UAAAA,SAAS,GAAGJ,GAAG,CAACI,SAAhB;AACD;;AAEDF,QAAAA,KAAK;;AAEL,YAAIC,IAAI,GAAG,KAAKhD,OAAhB,EAAyB;AACvB;AACD;AACF;;AAED,aAAO4C,OAAP;AACD;;;WAED,qBAAYA,OAAZ,EAAqB;AACnB,UAAIA,OAAO,CAAC/E,MAAR,IAAkB,KAAKmC,OAA3B,EAAoC,OAAO,CAAC,CAAR;AACpC,UAAMoD,SAAS,GAAGR,OAAO,CAAC,KAAK5C,OAAN,CAAzB;AACA,UAAMU,KAAK,GAAG,KAAKA,KAAL,CAAW+B,KAAX,CAAiB,CAAjB,EAAoBW,SAApB,CAAd;AACA,UAAMC,YAAY,GAAG,KAAK1C,MAAL,CAAY2C,QAAZ,CAAqBF,SAArB,EAAgCH,SAArD;AACA,WAAKtC,MAAL,CAAYsB,SAAZ,GAAwBvB,KAAK,CAACwB,GAAN,CAAU,UAACC,CAAD,EAAIxE,CAAJ,EAAU;AAC1C,0DAA2CwE,CAA3C;AACD,OAFuB,EAErBC,IAFqB,CAEhB,EAFgB,wDAEmC,KAAK7B,KAAL,CAAWR,QAF9C,YAAxB;AAGA,UAAMwD,UAAU,GAAG,KAAK5C,MAAL,CAAY6C,gBAA/B;AACA,UAAIC,UAAU,GAAGnE,WAAW,CAACiE,UAAD,EAAa,CAAb,CAA5B;;AAEA,aAAOE,UAAU,KAAKF,UAAU,CAACN,SAAX,GAAuBI,YAAvB,IAAuC;AAC7DE,MAAAA,UAAU,CAACG,YAAX,GAA0BD,UAAU,CAACC,YADf,IAC+BH,UAAU,CAACN,SAAX,GAAuBQ,UAAU,CAACR,SADtE,CAAjB,EACmG;AACjG,aAAKtC,MAAL,CAAYM,WAAZ,CAAwBwC,UAAxB;AACAA,QAAAA,UAAU,GAAGnE,WAAW,CAACiE,UAAD,EAAa,CAAb,CAAxB;AACA7C,QAAAA,KAAK,CAACiD,GAAN;AACD;;AAED,aAAOjD,KAAK,CAAC7C,MAAb;AACD,K,CAAC;;;;WAGF,qBAAY;AACV,aAAO,KAAK4C,OAAZ,CADU,CACW;AACtB;;;WAED,kBAAS;AAAA;;AACP,wBAGI,KAAKD,KAHT;AAAA,UACEN,IADF,eACEA,IADF;AAAA,UAEEO,OAFF,eAEEA,OAFF;;AAKM,UAAAmD,WAAW,GAAG,KAAKrD,KAAnB;AAAA,UAEOsD,SAFP,GAMFD,WANE,CAEJ9D,SAFI;AAAA,UAGJC,QAHI,GAMF6D,WANE,CAGJ7D,QAHI;AAAA,UAIJI,SAJI,GAMFyD,WANE,CAIJzD,SAJI;AAAA,UAKJN,SALI,GAMF+D,WANE,CAKJ/D,SALI;AAAA,UAOAiE,IAPA,GAOO1F,6BAA6B,CAACwF,WAAD,EAAc,CAAC,WAAD,EAAc,UAAd,EAA0B,WAA1B,EAAuC,WAAvC,CAAd,CAPpC;;AASN,aAAO,aAAatG,KAAK,CAAC8D,aAAN,CAAoByC,SAApB,EAA+BtG,QAAQ,CAAC;AAC1DsC,QAAAA,SAAS,0BAAmBY,OAAO,GAAG,wBAAH,GAA8B,EAAxD,cAA8DZ,SAA9D,CADiD;AAE1DkE,QAAAA,GAAG,EAAE,aAAAxE,IAAI;AAAA,iBAAI,MAAI,CAAC7B,MAAL,GAAc6B,IAAlB;AAAA;AAFiD,OAAD,EAGxDN,IAAI,CAAC6E,IAAD,EAAOzD,SAAP,CAHoD,CAAvC,EAGOI,OAAO,IAAIN,SAAX,GAAuBD,IAAI,CAAC8D,OAAL,CAAa,kBAAb,EAAiC,EAAjC,CAAvB,GAA8D9D,IAHrE,EAG2E,aAAa5C,KAAK,CAAC8D,aAAN,CAAoB,KAApB,EAA2B,IAA3B,CAHxF,EAG0HX,OAAO,IAAI,aAAanD,KAAK,CAAC8D,aAAN,CAAoB,MAApB,EAA4B;AAChMvB,QAAAA,SAAS,EAAE;AADqL,OAA5B,EAEnKE,QAFmK,CAHlJ,CAApB;AAMD;;;;EAhKyBzC,KAAK,CAACuG,S;;AAoKlCvD,aAAa,CAACZ,YAAd,GAA6BA,YAA7B;AAEA,eAAeY,aAAf","sourcesContent":["import React from 'react';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nconst canvasStyle = {\n  position: 'absolute',\n  bottom: 0,\n  left: 0,\n  height: 0,\n  overflow: 'hidden',\n  'padding-top': 0,\n  'padding-bottom': 0,\n  border: 'none'\n};\nconst mirrorProps = ['box-sizing', 'width', 'font-size', 'font-weight', 'font-family', 'font-style', 'letter-spacing', 'text-indent', 'white-space', 'word-break', 'overflow-wrap', 'padding-left', 'padding-right'];\n\nfunction omit(obj, omittedKeys) {\n  if (!obj || typeof obj !== 'object') {\n    return obj;\n  }\n\n  const ret = {};\n  Object.keys(obj).forEach(key => {\n    if (omittedKeys.indexOf(key) > -1) {\n      return;\n    }\n\n    ret[key] = obj[key];\n  });\n  return ret;\n}\n\nfunction prevSibling(node, count) {\n  while (node && count--) {\n    node = node.previousElementSibling;\n  }\n\n  return node;\n}\n\nconst defaultProps = {\n  basedOn: undefined,\n  className: '',\n  component: 'div',\n  ellipsis: '…',\n  // &hellip;\n  maxLine: 1,\n\n  onReflow() {},\n\n  text: '',\n  trimRight: true,\n  winWidth: undefined // for the HOC\n\n};\nconst usedProps = Object.keys(defaultProps);\n/**\n * props.text {String} the text you want to clamp\n * props.maxLine {Number|String} max lines allowed\n * props.ellipsis {String} the ellipsis indicator\n * props.trimRight {Boolean} should we trimRight the clamped text?\n * props.basedOn {String} letters|words\n * props.className {String}\n */\n\nclass LinesEllipsis extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      text: props.text,\n      clamped: false\n    };\n    this.units = [];\n    this.maxLine = 0;\n    this.canvas = null;\n  }\n\n  componentDidMount() {\n    this.initCanvas();\n    this.reflow(this.props);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.winWidth !== this.props.winWidth) {\n      this.copyStyleToCanvas();\n    }\n\n    if (this.props !== prevProps) {\n      this.reflow(this.props);\n    }\n  }\n\n  componentWillUnmount() {\n    this.canvas.parentNode.removeChild(this.canvas);\n  }\n\n  setState(state, callback) {\n    if (typeof state.clamped !== 'undefined') {\n      this.clamped = state.clamped;\n    }\n\n    return super.setState(state, callback);\n  }\n\n  initCanvas() {\n    if (this.canvas) return;\n    const canvas = this.canvas = document.createElement('div');\n    canvas.className = `LinesEllipsis-canvas ${this.props.className}`;\n    canvas.setAttribute('aria-hidden', 'true');\n    this.copyStyleToCanvas();\n    Object.keys(canvasStyle).forEach(key => {\n      canvas.style[key] = canvasStyle[key];\n    });\n    document.body.appendChild(canvas);\n  }\n\n  copyStyleToCanvas() {\n    const targetStyle = window.getComputedStyle(this.target);\n    mirrorProps.forEach(key => {\n      this.canvas.style[key] = targetStyle[key];\n    });\n  }\n\n  reflow(props) {\n    /* eslint-disable no-control-regex */\n    const basedOn = props.basedOn || (/^[\\x00-\\x7F]+$/.test(props.text) ? 'words' : 'letters');\n\n    switch (basedOn) {\n      case 'words':\n        this.units = props.text.split(/\\b|(?=\\W)/);\n        break;\n\n      case 'letters':\n        this.units = Array.from(props.text);\n        break;\n\n      default:\n        throw new Error(`Unsupported options basedOn: ${basedOn}`);\n    }\n\n    this.maxLine = +props.maxLine || 1;\n    this.canvas.innerHTML = this.units.map(c => {\n      return `<span class='LinesEllipsis-unit'>${c}</span>`;\n    }).join('');\n    const ellipsisIndex = this.putEllipsis(this.calcIndexes());\n    const clamped = ellipsisIndex > -1;\n    const newState = {\n      clamped,\n      text: clamped ? this.units.slice(0, ellipsisIndex).join('') : props.text\n    };\n    this.setState(newState, props.onReflow.bind(this, newState));\n  }\n\n  calcIndexes() {\n    const indexes = [0];\n    let elt = this.canvas.firstElementChild;\n    if (!elt) return indexes;\n    let index = 0;\n    let line = 1;\n    let offsetTop = elt.offsetTop;\n\n    while (elt = elt.nextElementSibling) {\n      if (elt.offsetTop > offsetTop) {\n        line++;\n        indexes.push(index);\n        offsetTop = elt.offsetTop;\n      }\n\n      index++;\n\n      if (line > this.maxLine) {\n        break;\n      }\n    }\n\n    return indexes;\n  }\n\n  putEllipsis(indexes) {\n    if (indexes.length <= this.maxLine) return -1;\n    const lastIndex = indexes[this.maxLine];\n    const units = this.units.slice(0, lastIndex);\n    const maxOffsetTop = this.canvas.children[lastIndex].offsetTop;\n    this.canvas.innerHTML = units.map((c, i) => {\n      return `<span class='LinesEllipsis-unit'>${c}</span>`;\n    }).join('') + `<wbr><span class='LinesEllipsis-ellipsis'>${this.props.ellipsis}</span>`;\n    const ndEllipsis = this.canvas.lastElementChild;\n    let ndPrevUnit = prevSibling(ndEllipsis, 2);\n\n    while (ndPrevUnit && (ndEllipsis.offsetTop > maxOffsetTop || // IE & Edge: doesn't support <wbr>\n    ndEllipsis.offsetHeight > ndPrevUnit.offsetHeight || ndEllipsis.offsetTop > ndPrevUnit.offsetTop)) {\n      this.canvas.removeChild(ndPrevUnit);\n      ndPrevUnit = prevSibling(ndEllipsis, 2);\n      units.pop();\n    }\n\n    return units.length;\n  } // expose\n\n\n  isClamped() {\n    return this.clamped; // do not use state.clamped. #27\n  }\n\n  render() {\n    const {\n      text,\n      clamped\n    } = this.state;\n\n    const _this$props = this.props,\n          {\n      component: Component,\n      ellipsis,\n      trimRight,\n      className\n    } = _this$props,\n          rest = _objectWithoutPropertiesLoose(_this$props, [\"component\", \"ellipsis\", \"trimRight\", \"className\"]);\n\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      className: `LinesEllipsis ${clamped ? 'LinesEllipsis--clamped' : ''} ${className}`,\n      ref: node => this.target = node\n    }, omit(rest, usedProps)), clamped && trimRight ? text.replace(/[\\s\\uFEFF\\xA0]+$/, '') : text, /*#__PURE__*/React.createElement(\"wbr\", null), clamped && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"LinesEllipsis-ellipsis\"\n    }, ellipsis));\n  }\n\n}\n\nLinesEllipsis.defaultProps = defaultProps;\n\nexport default LinesEllipsis;\n"]},"metadata":{},"sourceType":"module"}