{"ast":null,"code":"import _regeneratorRuntime from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,Fragment}from'react';import axios from'axios';import{Button,Container,Form,Col,Row}from'react-bootstrap';import{setToken,initAxiosIntterceptos}from'../helpers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";initAxiosIntterceptos();var url=\"http://localhost:3000\";var urlServidor=\"http://localhost:4006\";var SingUp=function SingUp(){var _useState=useState({error:false,mensaje:\"\"}),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState({nombre:\"\",apellido_paterno:\"\",apellido_materno:\"\",telefono:\"\",fecha_nacimiento:\"\",email:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),datosRegistro=_useState4[0],setDatosRegistro=_useState4[1];//Se actualiz el state con los datos ingresados \nvar actualizarState=function actualizarState(e){setDatosRegistro(_objectSpread(_objectSpread({},datosRegistro),{},_defineProperty({},e.target.name,e.target.value)));};var nombre=datosRegistro.nombre,apellido_paterno=datosRegistro.apellido_paterno,apellido_materno=datosRegistro.apellido_materno,telefono=datosRegistro.telefono,fecha_nacimiento=datosRegistro.fecha_nacimiento,email=datosRegistro.email,password=datosRegistro.password;//Function para iniciar sesion\nvar functionIniciarSesion=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var respuesta;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(email.trim()===''||password.trim()===\"\")){_context.next=6;break;}setError({error:true,mensaje:\"Todos los campos son obligatorios\"});return _context.abrupt(\"return\");case 6:_context.next=8;return axios.post(\"/autenticacion/registro\",datosRegistro);case 8:respuesta=_context.sent;if(respuesta.data.status===200){setToken(respuesta.data.token);window.location.href=\"\".concat(url,\"/\");}else{setError({error:true,mensaje:respuesta.data.mensaje});}case 10:case\"end\":return _context.stop();}}},_callee);}));return function functionIniciarSesion(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsxs(Col,{className:\" col-6\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registrate\"}),error.error?/*#__PURE__*/_jsx(\"p\",{className:\"alerta-error\",children:error.mensaje}):null,/*#__PURE__*/_jsxs(Form,{onSubmit:functionIniciarSesion,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Nombre(s)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Ej. Juan\",name:\"nombre\",onChange:actualizarState,value:nombre,required:true}),/*#__PURE__*/_jsx(Form.Label,{children:\"A. Paterno\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"text\",placeholder:\"Ej. Perez\",name:\"apellido_paterno\",onChange:actualizarState,value:apellido_paterno}),/*#__PURE__*/_jsx(Form.Label,{children:\"A. Materno\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"text\",placeholder:\"Ej. Perez\",name:\"apellido_materno\",onChange:actualizarState,value:apellido_materno}),/*#__PURE__*/_jsx(Form.Label,{children:\"Telefono\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"tel\",placeholder:\"Ej. 3131456784\",name:\"telefono\",onChange:actualizarState,value:telefono}),/*#__PURE__*/_jsx(Form.Label,{children:\"Fecha de nacimiento\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"date\",name:\"fecha_nacimiento\",onChange:actualizarState,value:fecha_nacimiento}),/*#__PURE__*/_jsx(Form.Label,{children:\"Correo electronico\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"email\",placeholder:\"canela@correo.com\",name:\"email\",onChange:actualizarState,value:email}),/*#__PURE__*/_jsx(Form.Label,{children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(Form.Control,{required:true,type:\"password\",placeholder:\"********\",name:\"password\",onChange:actualizarState,value:password}),/*#__PURE__*/_jsx(Button,{className:\"mt-2\",type:\"submit\",children:\"Registrarse\"})]}),/*#__PURE__*/_jsxs(Col,{children:[\"Ya tienes cuenta? \",/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(url,\"/login\"),children:\"Inicia sesion\"})]})]})})})});};export default SingUp;","map":{"version":3,"sources":["/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/components/SignUp.js"],"names":["React","useState","Fragment","axios","Button","Container","Form","Col","Row","setToken","initAxiosIntterceptos","url","urlServidor","SingUp","error","mensaje","setError","nombre","apellido_paterno","apellido_materno","telefono","fecha_nacimiento","email","password","datosRegistro","setDatosRegistro","actualizarState","e","target","name","value","functionIniciarSesion","preventDefault","trim","post","respuesta","data","status","token","window","location","href"],"mappings":"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","sourcesContent":["import React, { useState, Fragment } from 'react'\nimport axios from 'axios';\nimport { Button, Container, Form, Col, Row } from 'react-bootstrap';\nimport { setToken, initAxiosIntterceptos } from '../helpers';\ninitAxiosIntterceptos();\nconst url = \"http://localhost:3000\"\nconst urlServidor = \"http://localhost:4006\"\nconst SingUp = () => {\n    const [error, setError] = useState({ error: false, mensaje: \"\" });\n    const [datosRegistro, setDatosRegistro] = useState({\n\n        nombre: \"\",\n        apellido_paterno: \"\",\n        apellido_materno: \"\",\n        telefono: \"\",\n        fecha_nacimiento: \"\",\n        email: \"\",\n        password: \"\"\n    });\n    //Se actualiz el state con los datos ingresados \n    const actualizarState = e => {\n        setDatosRegistro({\n            ...datosRegistro,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    const { nombre, apellido_paterno, apellido_materno, telefono, fecha_nacimiento, email, password } = datosRegistro;\n\n    //Function para iniciar sesion\n    const functionIniciarSesion = async (e) => {\n        e.preventDefault();\n        if (email.trim() === '' || password.trim() === \"\") {\n            setError({ error: true, mensaje: \"Todos los campos son obligatorios\" });\n            return\n        } else {\n            const respuesta = await axios.post(`/autenticacion/registro`, datosRegistro);\n            if (respuesta.data.status === 200) {\n                setToken(respuesta.data.token);\n                window.location.href = `${url}/`\n\n\n            } else {\n                setError({ error: true, mensaje: respuesta.data.mensaje })\n            }\n\n        }\n    }\n    return (\n        <Fragment >\n            <Container>\n                <Row className=\"justify-content-center\">\n                    <Col className=\" col-6\">\n                        <h2>Registrate</h2>\n                        {error.error ? <p className=\"alerta-error\">{error.mensaje}</p> : null}\n\n                        <Form\n                            onSubmit={functionIniciarSesion}\n                        >\n                            <Form.Label>Nombre(s)</Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"Ej. Juan\"\n                                name=\"nombre\"\n                                onChange={actualizarState}\n                                value={nombre}\n                                required\n                            />\n                            <Form.Label>A. Paterno</Form.Label>\n                            <Form.Control\n                                required\n                                type=\"text\"\n                                placeholder=\"Ej. Perez\"\n                                name=\"apellido_paterno\"\n                                onChange={actualizarState}\n                                value={apellido_paterno}\n                            />\n                            <Form.Label>A. Materno</Form.Label>\n                            <Form.Control\n                                required\n                                type=\"text\"\n                                placeholder=\"Ej. Perez\"\n                                name=\"apellido_materno\"\n                                onChange={actualizarState}\n                                value={apellido_materno}\n                            />\n                            <Form.Label>Telefono</Form.Label>\n                            <Form.Control\n                                required\n                                type=\"tel\"\n                                placeholder=\"Ej. 3131456784\"\n                                name=\"telefono\"\n                                onChange={actualizarState}\n                                value={telefono}\n                            />\n                            <Form.Label>Fecha de nacimiento</Form.Label>\n                            <Form.Control\n                                required\n                                type=\"date\"\n                                name=\"fecha_nacimiento\"\n                                onChange={actualizarState}\n                                value={fecha_nacimiento}\n                            />\n                            <Form.Label>Correo electronico</Form.Label>\n                            <Form.Control\n                                required\n                                type=\"email\"\n                                placeholder=\"canela@correo.com\"\n                                name=\"email\"\n                                onChange={actualizarState}\n                                value={email}\n                            />\n                            <Form.Label>Contrase√±a</Form.Label>\n                            <Form.Control\n                                required\n                                type=\"password\"\n                                placeholder=\"********\"\n                                name=\"password\"\n                                onChange={actualizarState}\n                                value={password}\n                            />\n                            <Button className=\"mt-2\"\n                                type=\"submit\">\n                                Registrarse\n                            </Button>\n                        </Form>\n                        <Col>Ya tienes cuenta? <a href={`${url}/login`} >Inicia sesion</a></Col>\n                    </Col>\n                </Row>\n            </Container>\n        </Fragment>\n    );\n\n}\nexport default SingUp;"]},"metadata":{},"sourceType":"module"}