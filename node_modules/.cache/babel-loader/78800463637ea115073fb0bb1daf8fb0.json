{"ast":null,"code":"var _jsxFileName = \"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/components/Formulario.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport UploadIMG from './UploadIMG';\nimport Alert from './Alert';\nimport { Button, Form, Col } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Formulario = () => {\n  _s();\n\n  const [datosProducto, setDatosProducto] = useState({\n    nombre: \"\",\n    descripcion: \"\",\n    precio_hora: 0,\n    precio_dia: 0,\n    id_tiempo_entrega: 0,\n    id_ubicacion: 0,\n    files: null\n  });\n  const [error, setError] = useState({\n    error: false,\n    mensaje: \"\"\n  });\n  const [productoCreado, setProductoCreado] = useState(false);\n\n  const actualizarStateImg = e => {\n    setDatosProducto({ ...datosProducto,\n      [e.target.name]: e.target.files\n    });\n  };\n\n  const actualizarState = e => {\n    setError(false);\n    setDatosProducto({ ...datosProducto,\n      [e.target.name]: e.target.value\n    });\n  }; //Funcion para mostrar mensaje de confirmacion\n  //Funcion para crear nuevo producto\n\n\n  const submitProduct = async e => {\n    e.preventDefault();\n\n    if (nombre.trim() === \"\" || descripcion === \"\" || id_tiempo_entrega === 0 || id_ubicacion === 0 || files == null) {\n      setError({\n        error: true,\n        mensaje: \"Ingresa los datos necesarios para tu producto\"\n      });\n      return;\n    }\n\n    const data = new FormData();\n\n    for (let index = 0; index < datosProducto.files.length; index++) {\n      data.append(\"files\", datosProducto.files[index]);\n    }\n\n    data.append('nombre', nombre);\n    data.append('descripcion', descripcion);\n    data.append('id_tiempo_entrega', id_tiempo_entrega);\n    data.append('id_ubicacion', id_ubicacion);\n    data.append('precio_dia', precio_dia);\n    data.append('precio_hora', precio_hora);\n    console.log(data);\n    const respuesta = await axios.post(\"http://localhost:4006/productos/nuevo-producto\", data, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n\n    if (respuesta.status === 200) {\n      setProductoCreado(true);\n    } else {\n      setError({\n        error: true,\n        mensaje: respuesta.data.mensaje\n      });\n    }\n\n    setTimeout(() => {\n      setProductoCreado(false);\n    }, 3000);\n    setError(false);\n    setDatosProducto({\n      nombre: \"\",\n      descripcion: \"\",\n      precio_hora: 0,\n      precio_dia: 0,\n      id_tiempo_entrega: 0,\n      id_ubicacion: 0,\n      file: null\n    });\n  };\n\n  const {\n    nombre,\n    descripcion,\n    precio_hora,\n    precio_dia,\n    id_tiempo_entrega,\n    id_ubicacion,\n    files\n  } = datosProducto;\n  return /*#__PURE__*/_jsxDEV(Col, {\n    className: \"col-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Agrega los datos de tu producto\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), error.error ? /*#__PURE__*/_jsxDEV(Alert, {\n      mensaje: error.mensaje,\n      variante: \"danger\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 28\n    }, this) : null, productoCreado ? /*#__PURE__*/_jsxDEV(Alert, {\n      mensaje: \"Tu producto se publico correctamente\",\n      variante: \"success\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 31\n    }, this) : null, /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: submitProduct,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"formBasicEmail\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Nombre del producto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          required: true,\n          type: \"text\",\n          name: \"nombre\",\n          placeholder: \"Bocina bluetooth\",\n          value: nombre,\n          onChange: actualizarState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Descripcion\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          required: true,\n          as: \"textarea\",\n          name: \"descripcion\",\n          placeholder: \"!5 pulgadas marca steren\",\n          value: descripcion,\n          onChange: actualizarState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Precio por hora\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"number\",\n          name: \"precio_hora\",\n          placeholder: \"$40\",\n          value: precio_hora,\n          onChange: actualizarState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Precio por dia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"number\",\n          name: \"precio_dia\",\n          placeholder: \"$150\",\n          value: precio_dia,\n          onChange: actualizarState\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"En cuanto tiempo puedes entregar el producto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          required: true,\n          as: \"select\",\n          name: \"id_tiempo_entrega\",\n          value: id_tiempo_entrega,\n          onChange: actualizarState,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"---Selecciona---\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 1,\n            children: \"Menos de 30min\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 2,\n            children: \"Entre 30-60min\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 3,\n            children: \"Mas de 60min\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"En donde tienes el producto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          as: \"select\",\n          name: \"id_ubicacion\",\n          value: id_ubicacion,\n          onChange: actualizarState,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"---Selecciona---\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 1,\n            children: \"Armeria\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 2,\n            children: \"Colima\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 3,\n            children: \"Comala\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 4,\n            children: \"Coquimatl\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 5,\n            children: \"Cuauht\\xE9moc\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 6,\n            children: \"Ixtlahuac\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 7,\n            children: \"Manzanillo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 8,\n            children: \"Minatitl\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 9,\n            children: \"Tecom\\xE1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 10,\n            children: \"Villa de \\xC1lvarez\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(UploadIMG, {\n          actualizarStateImg: actualizarStateImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Formulario, \"dOIgKgrn4qUH4/87dMlq6nZVzbc=\");\n\n_c = Formulario;\nexport default Formulario;\n\nvar _c;\n\n$RefreshReg$(_c, \"Formulario\");","map":{"version":3,"sources":["/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/components/Formulario.js"],"names":["React","useState","axios","UploadIMG","Alert","Button","Form","Col","Formulario","datosProducto","setDatosProducto","nombre","descripcion","precio_hora","precio_dia","id_tiempo_entrega","id_ubicacion","files","error","setError","mensaje","productoCreado","setProductoCreado","actualizarStateImg","e","target","name","actualizarState","value","submitProduct","preventDefault","trim","data","FormData","index","length","append","console","log","respuesta","post","headers","status","setTimeout","file"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport UploadIMG from './UploadIMG'\nimport Alert from './Alert'\nimport { Button, Form, Col } from 'react-bootstrap';\nconst Formulario = () => {\n    const [datosProducto, setDatosProducto] = useState({\n        nombre: \"\",\n        descripcion: \"\",\n        precio_hora: 0,\n        precio_dia: 0,\n        id_tiempo_entrega: 0,\n        id_ubicacion: 0,\n        files: null\n    });\n    const [error, setError] = useState({ error: false, mensaje: \"\" });\n    const [productoCreado, setProductoCreado] = useState(false);\n\n\n    const actualizarStateImg = e => {\n\n        setDatosProducto({\n            ...datosProducto,\n            [e.target.name]: e.target.files\n        })\n\n    }\n    const actualizarState = e => {\nsetError(false)\n        setDatosProducto({\n            ...datosProducto,\n            [e.target.name]: e.target.value\n        })\n\n    }\n//Funcion para mostrar mensaje de confirmacion\n\n    //Funcion para crear nuevo producto\n    const submitProduct = async e => {\n        e.preventDefault()\n        if (nombre.trim() === \"\" || descripcion === \"\" || id_tiempo_entrega === 0 || id_ubicacion === 0 || files == null) {\n            setError({ error: true, mensaje: \"Ingresa los datos necesarios para tu producto\" })\n            return;\n        }\n        const data = new FormData();\n        for(let index = 0; index < datosProducto.files.length; index++){\n            data.append(\"files\", datosProducto.files[index])\n        }\n        \n        data.append('nombre', nombre)\n        data.append('descripcion', descripcion)\n        data.append('id_tiempo_entrega', id_tiempo_entrega)\n        data.append('id_ubicacion', id_ubicacion)\n        data.append('precio_dia', precio_dia)\n        data.append('precio_hora', precio_hora)\n\n\n        console.log(data);\n        const respuesta = await axios.post(\"http://localhost:4006/productos/nuevo-producto\", data, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            }\n        });\n        if (respuesta.status === 200) {\n            setProductoCreado(true);\n        } else {\n            setError({ error: true, mensaje: respuesta.data.mensaje });\n        }\n        setTimeout(()=>{\n            setProductoCreado(false)\n        },3000)\n            setError(false)\n        setDatosProducto({\n            nombre: \"\",\n            descripcion: \"\",\n            precio_hora: 0,\n            precio_dia: 0,\n            id_tiempo_entrega: 0,\n            id_ubicacion: 0,\n            file: null\n        })\n    }\n\n\n    const { nombre, descripcion, precio_hora, precio_dia, id_tiempo_entrega, id_ubicacion, files } = datosProducto\n    return (\n\n        <Col className=\"col-8\">\n            <h1>Agrega los datos de tu producto</h1>\n            {error.error ? <Alert mensaje={error.mensaje} variante={\"danger\"}/>: null}\n            {productoCreado ? <Alert mensaje=\"Tu producto se publico correctamente\" variante={\"success\"}/>: null}\n            <Form onSubmit={submitProduct}>\n                <Form.Group controlId=\"formBasicEmail\" >\n                    <Form.Label>Nombre del producto</Form.Label>\n                    <Form.Control\n                    required\n                        type=\"text\"\n                        name=\"nombre\"\n                        placeholder=\"Bocina bluetooth\"\n                        value={nombre}\n                        onChange={actualizarState} />\n                    <Form.Label>Descripcion</Form.Label>\n                    <Form.Control\n                    required\n                        as=\"textarea\"\n                        name=\"descripcion\"\n                        placeholder=\"!5 pulgadas marca steren\"\n                        value={descripcion}\n                        onChange={actualizarState}\n                    />\n                    <Form.Label>Precio por hora</Form.Label>\n                    <Form.Control\n                        type=\"number\"\n                        name=\"precio_hora\"\n                        placeholder=\"$40\"\n                        value={precio_hora}\n                        onChange={actualizarState}\n                    />\n                    <Form.Label>Precio por dia</Form.Label>\n                    <Form.Control\n                        type=\"number\"\n                        name=\"precio_dia\"\n                        placeholder=\"$150\"\n                        value={precio_dia}\n                        onChange={actualizarState}\n                    />\n                    <Form.Label>En cuanto tiempo puedes entregar el producto</Form.Label>\n                    <Form.Control\n                    required\n                        as=\"select\"\n                        name=\"id_tiempo_entrega\"\n                        value={id_tiempo_entrega}\n                        onChange={actualizarState}\n                    >\n                        <option>---Selecciona---</option>\n                        <option value={1}>Menos de 30min</option>\n                        <option value={2}>Entre 30-60min</option>\n                        <option value={3}>Mas de 60min</option>\n                    </Form.Control>\n                    <Form.Label>En donde tienes el producto</Form.Label>\n                    <Form.Control\n                        as=\"select\"\n                        name=\"id_ubicacion\"\n                        value={id_ubicacion}\n                        onChange={actualizarState}\n                    >\n                        <option>---Selecciona---</option>\n                        <option value={1}>Armeria</option>\n                        <option value={2}>Colima</option>\n                        <option value={3}>Comala</option>\n                        <option value={4}>Coquimatlán</option>\n                        <option value={5}>Cuauhtémoc</option>\n                        <option value={6}>Ixtlahuacán</option>\n                        <option value={7}>Manzanillo</option>\n                        <option value={8}>Minatitlán</option>\n                        <option value={9}>Tecomán</option>\n                        <option value={10}>Villa de Álvarez</option>\n                    </Form.Control>\n\n                    <UploadIMG\n                        actualizarStateImg={actualizarStateImg}\n                    />\n\n                </Form.Group>\n\n                <Button variant=\"primary\" type=\"submit\">\n                    Submit\n                </Button>\n            </Form>\n        </Col>\n\n    );\n}\n\nexport default Formulario;"]},"metadata":{},"sourceType":"module"}