{"ast":null,"code":"import _objectSpread from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import{RentDetails}from\"components\";import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";var Component=function Component(){var _useParams=useParams(),idProduct=_useParams.idProduct;var _useParams2=useParams(),rentDetails=_useParams2.rentDetails;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),dataLessor=_useState4[0],setDataLessor=_useState4[1];var _useState5=useState({idProduct:0,rentDays:null}),_useState6=_slicedToArray(_useState5,2),rentData=_useState6[0],setRentData=_useState6[1];var obtenerInfoProducto=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:4006/productos/\".concat(idProduct));case 2:res=_context.sent;setProduct(res.data.data.producto);setDataLessor(res.data.data.infoUsuario);case 5:case\"end\":return _context.stop();}}},_callee);}));return function obtenerInfoProducto(){return _ref.apply(this,arguments);};}();useEffect(function(){obtenerInfoProducto();setRentData(_objectSpread(_objectSpread({},setRentData),{},{rentDays:rentDetails,idProduct:idProduct}));},[]);var realizarRenta=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post(\"http://localhost:4006/rentas/realizar-renta\",rentData);case 2:res=_context2.sent;if(res.status===200){window.location.href=\"/rentas\";}else{alert(\"No puedes rentar un producto tuyo\");}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function realizarRenta(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(RentDetails,{dataProduct:product,dataLessor:dataLessor,rentDetails:rentDetails,onClick:function onClick(){return realizarRenta();}});};export default Component;export{Component as RentDetailsPage};","map":{"version":3,"sources":["/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/views/Auth/RentDetailsPage/index.jsx"],"names":["React","useState","useEffect","useParams","RentDetails","axios","Component","idProduct","rentDetails","product","setProduct","dataLessor","setDataLessor","rentDays","rentData","setRentData","obtenerInfoProducto","get","res","data","producto","infoUsuario","realizarRenta","post","status","window","location","href","alert","RentDetailsPage"],"mappings":"4wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,2CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,eAAsBH,SAAS,EAA/B,CAAQI,SAAR,YAAQA,SAAR,CACA,gBAAwBJ,SAAS,EAAjC,CAAQK,WAAR,aAAQA,WAAR,CACA,cAA8BP,QAAQ,CAAC,EAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eACA,eAAoCT,QAAQ,CAAC,EAAD,CAA5C,yCAAOU,UAAP,eAAmBC,aAAnB,eACA,eAAgCX,QAAQ,CAAC,CAErCM,SAAS,CAAE,CAF0B,CAGrCM,QAAQ,CAAE,IAH2B,CAAD,CAAxC,yCAAOC,QAAP,eAAiBC,WAAjB,eAMA,GAAMC,CAAAA,mBAAmB,0FAAG,iKACNX,CAAAA,KAAK,CAACY,GAAN,2CAA6CV,SAA7C,EADM,QAClBW,GADkB,eAExBR,UAAU,CAACQ,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcC,QAAf,CAAV,CACAR,aAAa,CAACM,GAAG,CAACC,IAAJ,CAASA,IAAT,CAAcE,WAAf,CAAb,CAHwB,sDAAH,kBAAnBL,CAAAA,mBAAmB,0CAAzB,CAKAd,SAAS,CAAC,UAAM,CACZc,mBAAmB,GACnBD,WAAW,gCAAMA,WAAN,MAAmBF,QAAQ,CAAEL,WAA7B,CAA0CD,SAAS,CAAEA,SAArD,GAAX,CACH,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMe,CAAAA,aAAa,2FAAG,uKACAjB,CAAAA,KAAK,CAACkB,IAAN,+CAA0DT,QAA1D,CADA,QACZI,GADY,gBAElB,GAAIA,GAAG,CAACM,MAAJ,GAAe,GAAnB,CAAwB,CACpBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,SAAvB,CACH,CAFD,IAEO,CACHC,KAAK,CAAC,mCAAD,CAAL,CACH,CANiB,wDAAH,kBAAbN,CAAAA,aAAa,2CAAnB,CAQA,mBACI,KAAC,WAAD,EAAa,WAAW,CAAEb,OAA1B,CAAmC,UAAU,CAAEE,UAA/C,CAA2D,WAAW,CAAEH,WAAxE,CAAqF,OAAO,CAAE,yBAAMc,CAAAA,aAAa,EAAnB,EAA9F,EADJ,CAGH,CAhCD,CAkCA,cAAehB,CAAAA,SAAf,CACA,OAASA,SAAS,GAAIuB,CAAAA,eAAtB","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom'\nimport { RentDetails } from \"components\";\nimport axios from 'axios';\n\nconst Component = () => {\n    const { idProduct } = useParams();\n    const { rentDetails } = useParams();\n    const [product, setProduct] = useState([]);\n    const [dataLessor, setDataLessor] = useState([]);\n    const [rentData, setRentData] = useState({\n\n        idProduct: 0,\n        rentDays: null\n    });\n\n    const obtenerInfoProducto = async () => {\n        const res = await axios.get(`http://localhost:4006/productos/${idProduct}`);\n        setProduct(res.data.data.producto);\n        setDataLessor(res.data.data.infoUsuario);\n    }\n    useEffect(() => {\n        obtenerInfoProducto();\n        setRentData({ ...setRentData, rentDays: rentDetails, idProduct: idProduct })\n    }, [])\n\n    const realizarRenta = async () => {\n        const res = await axios.post(`http://localhost:4006/rentas/realizar-renta`, rentData);\n        if (res.status === 200) {\n            window.location.href = \"/rentas\"\n        } else {\n            alert(\"No puedes rentar un producto tuyo\")\n        }\n    }\n    return (\n        <RentDetails dataProduct={product} dataLessor={dataLessor} rentDetails={rentDetails} onClick={() => realizarRenta()} />\n    );\n}\n\nexport default Component;\nexport { Component as RentDetailsPage }"]},"metadata":{},"sourceType":"module"}