{"ast":null,"code":"import _objectSpread from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{RentList,Alert}from'components';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Component=function Component(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rents=_useState2[0],setRents=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),idRentSelected=_useState4[0],setIdRentSelected=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var _useState7=useState({status:false,message:''}),_useState8=_slicedToArray(_useState7,2),showAlert2=_useState8[0],setShowAlert2=_useState8[1];var alertMessage=\"\\xBFConfirmas que haz recibido el producto de regreso correctamente?\";var getRents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:4006/rentas/arrendador\");case 2:res=_context.sent;console.log(res.data.data);setRents(res.data.data);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getRents(){return _ref.apply(this,arguments);};}();useEffect(function(){getRents();},[]);var rentEnd=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(idRent){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setShowAlert(false);_context2.next=3;return axios.post(\"http://localhost:4006/rentas/finalizar-renta/\".concat(idRent));case 3:res=_context2.sent;if(res.status===200){setShowAlert2({message:res.data.mensaje,status:true});setTimeout(function(){return window.location.reload();},4000);}case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function rentEnd(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[showAlert2.status&&/*#__PURE__*/_jsx(Alert,{information:showAlert2.message,onClick:function onClick(){return setShowAlert2(_objectSpread(_objectSpread({},showAlert2),{},{status:false}));},setShowAlert:function setShowAlert(){return setShowAlert2(_objectSpread(_objectSpread({},showAlert2),{},{status:false}));}}),/*#__PURE__*/_jsx(RentList,{dataRents:rents,viewAs:true,idRentSelected:idRentSelected,setIdRentSelected:setIdRentSelected,onClick:function onClick(){return rentEnd(idRentSelected);},showAlert:showAlert,setShowAlert:setShowAlert,alertMessage:alertMessage})]});};export default Component;export{Component as RentsLesser};","map":{"version":3,"sources":["/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/views/Auth/RentsLesser/index.jsx"],"names":["React","useState","useEffect","RentList","Alert","axios","Component","rents","setRents","idRentSelected","setIdRentSelected","showAlert","setShowAlert","status","message","showAlert2","setShowAlert2","alertMessage","getRents","get","res","console","log","data","rentEnd","idRent","post","mensaje","setTimeout","window","location","reload","RentsLesser"],"mappings":"4wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,KAAnB,KAAgC,YAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAA4CP,QAAQ,CAAC,CAAD,CAApD,yCAAOQ,cAAP,eAAuBC,iBAAvB,eACA,eAAkCT,QAAQ,CAAC,KAAD,CAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eACA,eAAoCX,QAAQ,CAAC,CACzCY,MAAM,CAAE,KADiC,CAEzCC,OAAO,CAAE,EAFgC,CAAD,CAA5C,yCAAOC,UAAP,eAAmBC,aAAnB,eAIA,GAAMC,CAAAA,YAAY,uEAAlB,CACA,GAAMC,CAAAA,QAAQ,0FAAG,iKACKb,CAAAA,KAAK,CAACc,GAAN,2CADL,QACPC,GADO,eAEbC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASA,IAArB,EACAf,QAAQ,CAACY,GAAG,CAACG,IAAJ,CAASA,IAAV,CAAR,CAHa,sDAAH,kBAARL,CAAAA,QAAQ,0CAAd,CAKAhB,SAAS,CAAC,UAAM,CACZgB,QAAQ,GAEX,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMM,CAAAA,OAAO,2FAAG,kBAAMC,MAAN,8HAEZb,YAAY,CAAC,KAAD,CAAZ,CAFY,uBAGMP,CAAAA,KAAK,CAACqB,IAAN,wDAA2DD,MAA3D,EAHN,QAGNL,GAHM,gBAKZ,GAAIA,GAAG,CAACP,MAAJ,GAAe,GAAnB,CAAwB,CACpBG,aAAa,CAAC,CAAEF,OAAO,CAAEM,GAAG,CAACG,IAAJ,CAASI,OAApB,CAA6Bd,MAAM,CAAE,IAArC,CAAD,CAAb,CAEAe,UAAU,CAAC,iBAAMC,CAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN,EAAD,CAAiC,IAAjC,CAAV,CACH,CATW,wDAAH,kBAAPP,CAAAA,OAAO,6CAAb,CAYA,mBACI,2BACKT,UAAU,CAACF,MAAX,eAAqB,KAAC,KAAD,EAAO,WAAW,CAAEE,UAAU,CAACD,OAA/B,CAAwC,OAAO,CAAE,yBAAME,CAAAA,aAAa,gCAAMD,UAAN,MAAkBF,MAAM,CAAE,KAA1B,GAAnB,EAAjD,CAAwG,YAAY,CAAE,8BAAMG,CAAAA,aAAa,gCAAMD,UAAN,MAAkBF,MAAM,CAAE,KAA1B,GAAnB,EAAtH,EAD1B,cAEI,KAAC,QAAD,EACI,SAAS,CAAEN,KADf,CACsB,MAAM,CAAE,IAD9B,CAEI,cAAc,CAAEE,cAFpB,CAGI,iBAAiB,CAAEC,iBAHvB,CAII,OAAO,CAAE,yBAAMc,CAAAA,OAAO,CAACf,cAAD,CAAb,EAJb,CAKI,SAAS,CAAEE,SALf,CAMI,YAAY,CAAEC,YANlB,CAOI,YAAY,CAAEK,YAPlB,EAFJ,GADJ,CAcH,CA7CD,CA+CA,cAAeX,CAAAA,SAAf,CACA,OAASA,SAAS,GAAI0B,CAAAA,WAAtB","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { RentList, Alert } from 'components';\nimport axios from 'axios';\n\nconst Component = () => {\n    const [rents, setRents] = useState([])\n    const [idRentSelected, setIdRentSelected] = useState(0);\n    const [showAlert, setShowAlert] = useState(false);\n    const [showAlert2, setShowAlert2] = useState({\n        status: false,\n        message: ''\n    })\n    const alertMessage = `Â¿Confirmas que haz recibido el producto de regreso correctamente?`;\n    const getRents = async () => {\n        const res = await axios.get(`http://localhost:4006/rentas/arrendador`);\n        console.log(res.data.data)\n        setRents(res.data.data);\n    }\n    useEffect(() => {\n        getRents();\n\n    }, [])\n\n    const rentEnd = async idRent => {\n\n        setShowAlert(false);\n        const res = await axios.post(`http://localhost:4006/rentas/finalizar-renta/${idRent}`)\n\n        if (res.status === 200) {\n            setShowAlert2({ message: res.data.mensaje, status: true })\n\n            setTimeout(() => window.location.reload(), 4000)\n        }\n    }\n\n    return (\n        <>\n            {showAlert2.status && <Alert information={showAlert2.message} onClick={() => setShowAlert2({ ...showAlert2, status: false })} setShowAlert={() => setShowAlert2({ ...showAlert2, status: false })} />}\n            <RentList\n                dataRents={rents} viewAs={true}\n                idRentSelected={idRentSelected}\n                setIdRentSelected={setIdRentSelected}\n                onClick={() => rentEnd(idRentSelected)}\n                showAlert={showAlert}\n                setShowAlert={setShowAlert}\n                alertMessage={alertMessage}\n            />\n        </>\n    );\n}\n\nexport default Component;\nexport { Component as RentsLesser }\n"]},"metadata":{},"sourceType":"module"}