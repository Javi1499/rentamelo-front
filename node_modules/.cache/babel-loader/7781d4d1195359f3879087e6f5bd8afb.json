{"ast":null,"code":"import _objectSpread from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{RentList,Alert}from'components';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Component=function Component(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rents=_useState2[0],setRents=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),idRentSelected=_useState4[0],setIdRentSelected=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showAlert=_useState6[0],setShowAlert=_useState6[1];var _useState7=useState({status:false,message:''}),_useState8=_slicedToArray(_useState7,2),showAlert2=_useState8[0],setShowAlert2=_useState8[1];var alertMessage=\"\\xBFYa tienes el producto?\\ntu tiempo de renta comenzara ahora\";var getRents=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"http://localhost:4006/rentas/arrendatario\");case 2:res=_context.sent;setRents(res.data.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getRents(){return _ref.apply(this,arguments);};}();useEffect(function(){getRents();},[]);var rentStart=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(idRent){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"Me clickeo\");setShowAlert(false);_context2.next=4;return axios.post(\"http://localhost:4006/rentas/confirmar-recepcion/\".concat(idRent));case 4:res=_context2.sent;if(res.status===200){setShowAlert2({message:res.data.mensaje,status:true});setTimeout(function(){return window.location.reload();},4000);}case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function rentStart(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[showAlert2.status&&/*#__PURE__*/_jsx(Alert,{information:showAlert2.message,onClick:function onClick(){return setShowAlert2(_objectSpread(_objectSpread({},showAlert2),{},{status:false}));},setShowAlert:function setShowAlert(){return setShowAlert2(_objectSpread(_objectSpread({},showAlert2),{},{status:false}));}}),/*#__PURE__*/_jsx(RentList,{dataRents:rents,viewAs:false,idRentSelected:idRentSelected,setIdRentSelected:setIdRentSelected,onClick:function onClick(){return rentStart(idRentSelected);},showAlert:showAlert,setShowAlert:setShowAlert,alertMessage:alertMessage})]});};export default Component;export{Component as Rents};","map":{"version":3,"sources":["/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/views/Auth/Rents/index.jsx"],"names":["React","useState","useEffect","RentList","Alert","axios","Component","rents","setRents","idRentSelected","setIdRentSelected","showAlert","setShowAlert","status","message","showAlert2","setShowAlert2","alertMessage","getRents","get","res","data","rentStart","idRent","console","log","post","mensaje","setTimeout","window","location","reload","Rents"],"mappings":"4wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,KAAnB,KAAgC,YAAhC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACpB,cAA0BL,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAA4CP,QAAQ,CAAC,CAAD,CAApD,yCAAOQ,cAAP,eAAuBC,iBAAvB,eACA,eAAkCT,QAAQ,CAAC,KAAD,CAA1C,yCAAOU,SAAP,eAAkBC,YAAlB,eACA,eAAoCX,QAAQ,CAAC,CACzCY,MAAM,CAAE,KADiC,CAEzCC,OAAO,CAAE,EAFgC,CAAD,CAA5C,yCAAOC,UAAP,eAAmBC,aAAnB,eAIA,GAAMC,CAAAA,YAAY,iEAAlB,CAIA,GAAMC,CAAAA,QAAQ,0FAAG,iKACKb,CAAAA,KAAK,CAACc,GAAN,6CADL,QACPC,GADO,eAEbZ,QAAQ,CAACY,GAAG,CAACC,IAAJ,CAASA,IAAV,CAAR,CAFa,sDAAH,kBAARH,CAAAA,QAAQ,0CAAd,CAIAhB,SAAS,CAAC,UAAM,CACZgB,QAAQ,GAEX,CAHQ,CAGN,EAHM,CAAT,CAKA,GAAMI,CAAAA,SAAS,2FAAG,kBAAMC,MAAN,8HACdC,OAAO,CAACC,GAAR,CAAY,YAAZ,EACAb,YAAY,CAAC,KAAD,CAAZ,CAFc,uBAGIP,CAAAA,KAAK,CAACqB,IAAN,4DAA+DH,MAA/D,EAHJ,QAGRH,GAHQ,gBAKd,GAAIA,GAAG,CAACP,MAAJ,GAAe,GAAnB,CAAwB,CACpBG,aAAa,CAAC,CAAEF,OAAO,CAAEM,GAAG,CAACC,IAAJ,CAASM,OAApB,CAA6Bd,MAAM,CAAE,IAArC,CAAD,CAAb,CAEAe,UAAU,CAAC,iBAAMC,CAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EAAN,EAAD,CAAiC,IAAjC,CAAV,CAEH,CAVa,wDAAH,kBAATT,CAAAA,SAAS,6CAAf,CAYA,mBACI,2BACKP,UAAU,CAACF,MAAX,eAAqB,KAAC,KAAD,EAAO,WAAW,CAAEE,UAAU,CAACD,OAA/B,CAAwC,OAAO,CAAE,yBAAME,CAAAA,aAAa,gCAAMD,UAAN,MAAkBF,MAAM,CAAE,KAA1B,GAAnB,EAAjD,CAAwG,YAAY,CAAE,8BAAMG,CAAAA,aAAa,gCAAMD,UAAN,MAAkBF,MAAM,CAAE,KAA1B,GAAnB,EAAtH,EAD1B,cAEI,KAAC,QAAD,EAAU,SAAS,CAAEN,KAArB,CAA4B,MAAM,CAAE,KAApC,CACI,cAAc,CAAEE,cADpB,CAEI,iBAAiB,CAAEC,iBAFvB,CAGI,OAAO,CAAE,yBAAMY,CAAAA,SAAS,CAACb,cAAD,CAAf,EAHb,CAII,SAAS,CAAEE,SAJf,CAKI,YAAY,CAAEC,YALlB,CAMI,YAAY,CAAEK,YANlB,EAFJ,GADJ,CAaH,CA9CD,CAgDA,cAAeX,CAAAA,SAAf,CACA,OAASA,SAAS,GAAI0B,CAAAA,KAAtB","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { RentList, Alert } from 'components';\nimport axios from 'axios';\n\nconst Component = () => {\n    const [rents, setRents] = useState([])\n    const [idRentSelected, setIdRentSelected] = useState(0);\n    const [showAlert, setShowAlert] = useState(false)\n    const [showAlert2, setShowAlert2] = useState({\n        status: false,\n        message: ''\n    })\n    const alertMessage = `Â¿Ya tienes el producto?\\ntu tiempo de renta comenzara ahora`;\n\n\n\n    const getRents = async () => {\n        const res = await axios.get(`http://localhost:4006/rentas/arrendatario`);\n        setRents(res.data.data);\n    }\n    useEffect(() => {\n        getRents();\n\n    }, [])\n\n    const rentStart = async idRent => {\n        console.log(\"Me clickeo\")\n        setShowAlert(false);\n        const res = await axios.post(`http://localhost:4006/rentas/confirmar-recepcion/${idRent}`)\n\n        if (res.status === 200) {\n            setShowAlert2({ message: res.data.mensaje, status: true })\n\n            setTimeout(() => window.location.reload(), 4000)\n\n        }\n    }\n    return (\n        <>\n            {showAlert2.status && <Alert information={showAlert2.message} onClick={() => setShowAlert2({ ...showAlert2, status: false })} setShowAlert={() => setShowAlert2({ ...showAlert2, status: false })} />}\n            <RentList dataRents={rents} viewAs={false}\n                idRentSelected={idRentSelected}\n                setIdRentSelected={setIdRentSelected}\n                onClick={() => rentStart(idRentSelected)}\n                showAlert={showAlert}\n                setShowAlert={setShowAlert}\n                alertMessage={alertMessage}\n            />\n        </>\n    );\n}\n\nexport default Component;\nexport { Component as Rents }"]},"metadata":{},"sourceType":"module"}