{"ast":null,"code":"var _jsxFileName = \"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/components/ProductView/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Button, ImageComponent, ImagesPreview, LessorInfo, Modal, ProductDetails, Alert } from 'components';\nimport axios from 'axios';\nimport { ProductView, DetailsContainer, LessorContainer, ImageContainer, PreviewContainer, ButtonContainer } from './styled';\nimport { validate } from 'schema-utils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Component = ({\n  product,\n  dataLessor,\n  mainImg\n}) => {\n  _s();\n\n  const [mainImage, setMainImage] = useState(mainImg);\n  const [showModal, setShowModal] = useState(false);\n  const {\n    img1,\n    img2,\n    img3\n  } = product;\n  const [valueDays, setvalueDays] = useState(0);\n  const [showAlert, setShowAlert] = useState(false);\n  const [rentData, setRentData] = useState({\n    idProduct: product.idProduct,\n    rentDays: null\n  });\n  useEffect(() => {\n    setRentData({ ...setRentData,\n      rentDays: valueDays,\n      idProduct: product.idProduct\n    });\n  }, [valueDays]); // //Process for create a rent\n  // const realizarRenta = async () => {\n  //     const res = await axios.post(`http://localhost:4006/rentas/realizar-renta`, rentData);\n  //     if (res.status == 200) {\n  //         window.location.href = \"/rentas\"\n  //     } else {\n  //         alert(\"No puedes rentar un producto tuyo\")\n  //     }\n  // }\n\n  const validateRent = async () => {\n    const validate = await axios.post(`http://localhost:4006/rentas/validador/${product.idProduct}`);\n    if (validate.data.mensaje) return setShowAlert(true);\n    handlerModal();\n  };\n\n  const handlerModal = () => setShowModal(prev => !prev);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [showAlert && /*#__PURE__*/_jsxDEV(Alert, {\n      information: \"No te puedes rentar un producto de tu propiedad\",\n      onClick: () => setShowAlert(false),\n      setShowAlert: setShowAlert\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 23\n    }, this), showModal && /*#__PURE__*/_jsxDEV(Modal, {\n      valueSelect: valueDays,\n      setValueSelect: setvalueDays,\n      event: () => window.location.href = `/detallesRenta/${rentData.idProduct}/${rentData.rentDays}`,\n      showModal: handlerModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(ProductView, {\n      children: [/*#__PURE__*/_jsxDEV(PreviewContainer, {\n        children: /*#__PURE__*/_jsxDEV(ImagesPreview, {\n          images: [img1, img2, img3],\n          setMainImage: setMainImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ImageContainer, {\n        children: /*#__PURE__*/_jsxDEV(ImageComponent, {\n          src: mainImage || mainImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(DetailsContainer, {\n        children: /*#__PURE__*/_jsxDEV(ProductDetails, {\n          dataProduct: product\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(LessorContainer, {\n        children: /*#__PURE__*/_jsxDEV(LessorInfo, {\n          dataLessor: dataLessor\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(ButtonContainer, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          children: \"RENTAR PRODUCTO\",\n          onClick: () => validateRent()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Component, \"NI3A7i+msBD0BtBOdYjwqlVW15U=\");\n\n_c = Component;\nexport default Component;\nexport { Component as ProductView };\n\nvar _c;\n\n$RefreshReg$(_c, \"Component\");","map":{"version":3,"sources":["/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/components/ProductView/index.jsx"],"names":["React","useState","useEffect","Button","ImageComponent","ImagesPreview","LessorInfo","Modal","ProductDetails","Alert","axios","ProductView","DetailsContainer","LessorContainer","ImageContainer","PreviewContainer","ButtonContainer","validate","Component","product","dataLessor","mainImg","mainImage","setMainImage","showModal","setShowModal","img1","img2","img3","valueDays","setvalueDays","showAlert","setShowAlert","rentData","setRentData","idProduct","rentDays","validateRent","post","data","mensaje","handlerModal","prev","window","location","href"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, ImageComponent, ImagesPreview, LessorInfo, Modal, ProductDetails, Alert } from 'components';\nimport axios from 'axios'\nimport { ProductView, DetailsContainer, LessorContainer, ImageContainer, PreviewContainer, ButtonContainer, } from './styled';\nimport { validate } from 'schema-utils';\nconst Component = ({ product, dataLessor, mainImg }) => {\n    const [mainImage, setMainImage] = useState(mainImg);\n    const [showModal, setShowModal] = useState(false)\n    const { img1, img2, img3 } = product;\n    const [valueDays, setvalueDays] = useState(0)\n    const [showAlert, setShowAlert] = useState(false)\n    const [rentData, setRentData] = useState({\n\n        idProduct: product.idProduct,\n        rentDays: null\n    });\n    useEffect(() => {\n        setRentData({ ...setRentData, rentDays: valueDays, idProduct: product.idProduct })\n\n    }, [valueDays])\n\n    // //Process for create a rent\n    // const realizarRenta = async () => {\n    //     const res = await axios.post(`http://localhost:4006/rentas/realizar-renta`, rentData);\n    //     if (res.status == 200) {\n    //         window.location.href = \"/rentas\"\n    //     } else {\n    //         alert(\"No puedes rentar un producto tuyo\")\n    //     }\n    // }\n\n    const validateRent = async () => {\n        const validate = await axios.post(`http://localhost:4006/rentas/validador/${product.idProduct}`)\n        if (validate.data.mensaje) return setShowAlert(true);\n        handlerModal()\n\n    }\n\n    const handlerModal = () => setShowModal(prev => !prev)\n    return (<>\n        {showAlert && <Alert information={\"No te puedes rentar un producto de tu propiedad\"} onClick={() => setShowAlert(false)} setShowAlert={setShowAlert} />}\n        {showModal && <Modal valueSelect={valueDays}\n            setValueSelect={setvalueDays}\n            event={() => window.location.href = `/detallesRenta/${rentData.idProduct}/${rentData.rentDays}`}\n            showModal={handlerModal} />}\n        <ProductView>\n            <PreviewContainer>\n                <ImagesPreview images={[img1, img2, img3]} setMainImage={setMainImage} />\n            </PreviewContainer>\n            <ImageContainer>\n                <ImageComponent src={mainImage || mainImg} />\n            </ImageContainer>\n            <DetailsContainer>\n                <ProductDetails dataProduct={product} />\n            </DetailsContainer>\n            <LessorContainer>\n                <LessorInfo dataLessor={dataLessor} />\n            </LessorContainer>\n            <ButtonContainer>\n                <Button children={\"RENTAR PRODUCTO\"} onClick={() => validateRent()} />\n            </ButtonContainer>\n\n        </ProductView>\n    </>\n    );\n}\n\nexport default Component;\nexport { Component as ProductView }"]},"metadata":{},"sourceType":"module"}