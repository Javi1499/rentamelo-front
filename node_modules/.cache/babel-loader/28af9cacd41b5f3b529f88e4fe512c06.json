{"ast":null,"code":"import _regeneratorRuntime from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Button,ImageComponent,ImagesPreview,LessorInfo,Modal,ProductDetails}from'components';import axios from'axios';import{ProductView,DetailsContainer,LessorContainer,ImageContainer,PreviewContainer,ButtonContainer}from'./styled';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Component=function Component(_ref){var product=_ref.product,dataLessor=_ref.dataLessor,mainImg=_ref.mainImg;var _useState=useState(mainImg),_useState2=_slicedToArray(_useState,2),mainImage=_useState2[0],setMainImage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showModal=_useState4[0],setShowModal=_useState4[1];var img1=product.img1,img2=product.img2,img3=product.img3;var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),valueDays=_useState6[0],setvalueDays=_useState6[1];var _useState7=useState({idProduct:product.idProduct,rentDays:null}),_useState8=_slicedToArray(_useState7,2),rentData=_useState8[0],setRentData=_useState8[1];useEffect(function(){setRentData(_objectSpread(_objectSpread({},setRentData),{},{rentDays:valueDays,idProduct:product.idProduct}));},[valueDays]);//Process for create a rent\nvar realizarRenta=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(\"http://localhost:4006/rentas/realizar-renta\",rentData);case 2:res=_context.sent;if(res.status==200){window.location.href=\"/rentas\";}else{alert(\"No puedes rentar un producto tuyo\");}case 4:case\"end\":return _context.stop();}}},_callee);}));return function realizarRenta(){return _ref2.apply(this,arguments);};}();var handlerModal=function handlerModal(){return setShowModal(function(prev){return!prev;});};return/*#__PURE__*/_jsxs(ProductView,{children:[/*#__PURE__*/_jsx(PreviewContainer,{children:/*#__PURE__*/_jsx(ImagesPreview,{images:[img1,img2,img3],setMainImage:setMainImage})}),/*#__PURE__*/_jsx(ImageContainer,{children:/*#__PURE__*/_jsx(ImageComponent,{src:mainImage||mainImg})}),/*#__PURE__*/_jsx(DetailsContainer,{children:/*#__PURE__*/_jsx(ProductDetails,{dataProduct:product})}),/*#__PURE__*/_jsx(LessorContainer,{children:/*#__PURE__*/_jsx(LessorInfo,{dataLessor:dataLessor})}),/*#__PURE__*/_jsx(ButtonContainer,{children:/*#__PURE__*/_jsx(Button,{children:\"RENTAR PRODUCTO\",onClick:handlerModal})}),showModal&&/*#__PURE__*/_jsx(Modal,{valueSelect:valueDays,setValueSelect:setvalueDays,event:realizarRenta,showModal:handlerModal})]});};export default Component;export{Component as ProductView};","map":{"version":3,"sources":["/home/javier/Escritorio/Practica_programacion/app-rentamelo/fronted-rentamelo/src/components/ProductView/index.jsx"],"names":["React","useState","useEffect","Button","ImageComponent","ImagesPreview","LessorInfo","Modal","ProductDetails","axios","ProductView","DetailsContainer","LessorContainer","ImageContainer","PreviewContainer","ButtonContainer","Component","product","dataLessor","mainImg","mainImage","setMainImage","showModal","setShowModal","img1","img2","img3","valueDays","setvalueDays","idProduct","rentDays","rentData","setRentData","realizarRenta","post","res","status","window","location","href","alert","handlerModal","prev"],"mappings":"4wBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,MAAT,CAAiBC,cAAjB,CAAiCC,aAAjC,CAAgDC,UAAhD,CAA4DC,KAA5D,CAAmEC,cAAnE,KAAyF,YAAzF,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,gBAAtB,CAAwCC,eAAxC,CAAyDC,cAAzD,CAAyEC,gBAAzE,CAA2FC,eAA3F,KAAmH,UAAnH,C,wFACA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAsC,IAAnCC,CAAAA,OAAmC,MAAnCA,OAAmC,CAA1BC,UAA0B,MAA1BA,UAA0B,CAAdC,OAAc,MAAdA,OAAc,CACpD,cAAkClB,QAAQ,CAACkB,OAAD,CAA1C,wCAAOC,SAAP,eAAkBC,YAAlB,eACA,eAAkCpB,QAAQ,CAAC,KAAD,CAA1C,yCAAOqB,SAAP,eAAkBC,YAAlB,eACA,GAAQC,CAAAA,IAAR,CAA6BP,OAA7B,CAAQO,IAAR,CAAcC,IAAd,CAA6BR,OAA7B,CAAcQ,IAAd,CAAoBC,IAApB,CAA6BT,OAA7B,CAAoBS,IAApB,CACA,eAAkCzB,QAAQ,CAAC,CAAD,CAA1C,yCAAO0B,SAAP,eAAkBC,YAAlB,eACA,eAAgC3B,QAAQ,CAAC,CAErC4B,SAAS,CAAEZ,OAAO,CAACY,SAFkB,CAGrCC,QAAQ,CAAE,IAH2B,CAAD,CAAxC,yCAAOC,QAAP,eAAiBC,WAAjB,eAKA9B,SAAS,CAAC,UAAM,CACZ8B,WAAW,gCAAMA,WAAN,MAAmBF,QAAQ,CAAEH,SAA7B,CAAwCE,SAAS,CAAEZ,OAAO,CAACY,SAA3D,GAAX,CAEH,CAHQ,CAGN,CAACF,SAAD,CAHM,CAAT,CAKA;AACA,GAAMM,CAAAA,aAAa,2FAAG,iKACAxB,CAAAA,KAAK,CAACyB,IAAN,+CAA0DH,QAA1D,CADA,QACZI,GADY,eAElB,GAAIA,GAAG,CAACC,MAAJ,EAAc,GAAlB,CAAuB,CACnBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuB,SAAvB,CACH,CAFD,IAEO,CACHC,KAAK,CAAC,mCAAD,CAAL,CACH,CANiB,sDAAH,kBAAbP,CAAAA,aAAa,2CAAnB,CASA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,SAAMlB,CAAAA,YAAY,CAAC,SAAAmB,IAAI,QAAI,CAACA,IAAL,EAAL,CAAlB,EAArB,CACA,mBACI,MAAC,WAAD,yBACI,KAAC,gBAAD,wBACI,KAAC,aAAD,EAAe,MAAM,CAAE,CAAClB,IAAD,CAAOC,IAAP,CAAaC,IAAb,CAAvB,CAA2C,YAAY,CAAEL,YAAzD,EADJ,EADJ,cAII,KAAC,cAAD,wBACI,KAAC,cAAD,EAAgB,GAAG,CAAED,SAAS,EAAID,OAAlC,EADJ,EAJJ,cAOI,KAAC,gBAAD,wBACI,KAAC,cAAD,EAAgB,WAAW,CAAEF,OAA7B,EADJ,EAPJ,cAUI,KAAC,eAAD,wBACI,KAAC,UAAD,EAAY,UAAU,CAAEC,UAAxB,EADJ,EAVJ,cAaI,KAAC,eAAD,wBACI,KAAC,MAAD,EAAQ,QAAQ,CAAE,iBAAlB,CAAqC,OAAO,CAAEuB,YAA9C,EADJ,EAbJ,CAgBKnB,SAAS,eAAI,KAAC,KAAD,EAAO,WAAW,CAAEK,SAApB,CAA+B,cAAc,CAAEC,YAA/C,CAA6D,KAAK,CAAEK,aAApE,CAAmF,SAAS,CAAEQ,YAA9F,EAhBlB,GADJ,CAoBH,CA9CD,CAgDA,cAAezB,CAAAA,SAAf,CACA,OAASA,SAAS,GAAIN,CAAAA,WAAtB","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, ImageComponent, ImagesPreview, LessorInfo, Modal, ProductDetails } from 'components';\nimport axios from 'axios'\nimport { ProductView, DetailsContainer, LessorContainer, ImageContainer, PreviewContainer, ButtonContainer, } from './styled';\nconst Component = ({ product, dataLessor, mainImg }) => {\n    const [mainImage, setMainImage] = useState(mainImg);\n    const [showModal, setShowModal] = useState(false)\n    const { img1, img2, img3 } = product;\n    const [valueDays, setvalueDays] = useState(0)\n    const [rentData, setRentData] = useState({\n\n        idProduct: product.idProduct,\n        rentDays: null\n    });\n    useEffect(() => {\n        setRentData({ ...setRentData, rentDays: valueDays, idProduct: product.idProduct })\n\n    }, [valueDays])\n\n    //Process for create a rent\n    const realizarRenta = async () => {\n        const res = await axios.post(`http://localhost:4006/rentas/realizar-renta`, rentData);\n        if (res.status == 200) {\n            window.location.href = \"/rentas\"\n        } else {\n            alert(\"No puedes rentar un producto tuyo\")\n        }\n    }\n\n    const handlerModal = () => setShowModal(prev => !prev)\n    return (\n        <ProductView>\n            <PreviewContainer>\n                <ImagesPreview images={[img1, img2, img3]} setMainImage={setMainImage} />\n            </PreviewContainer>\n            <ImageContainer>\n                <ImageComponent src={mainImage || mainImg} />\n            </ImageContainer>\n            <DetailsContainer>\n                <ProductDetails dataProduct={product} />\n            </DetailsContainer>\n            <LessorContainer>\n                <LessorInfo dataLessor={dataLessor} />\n            </LessorContainer>\n            <ButtonContainer>\n                <Button children={\"RENTAR PRODUCTO\"} onClick={handlerModal} />\n            </ButtonContainer>\n            {showModal && <Modal valueSelect={valueDays} setValueSelect={setvalueDays} event={realizarRenta} showModal={handlerModal} />}\n        </ProductView>\n    );\n}\n\nexport default Component;\nexport { Component as ProductView }"]},"metadata":{},"sourceType":"module"}